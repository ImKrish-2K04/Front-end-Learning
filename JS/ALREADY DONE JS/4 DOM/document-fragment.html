<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>document fragment</title>
  </head>
  <body>
    <h1>JS - TUTs</h1>

    <div class="container"></div>

    <script>
      // in this tut, we are going to learn about document fragment.
      // document fragment is an object which is not a part of an active document tree,
      // document fragment is used to make our task easy of creating some properties and related functionalities, their modification and their importing into the main document tree by doing everything into document fragment and then move all the work into the actual document tree by using some methods: appendChild() or insertBefore()...
      // understand it carefully, it is not a part of the actual or active document tree, it is a whole different object which helps us from repeating the same task of creating , updating , importing...
      // an empty document fragment can be created using a method : document.createDocumentFragment();
      // that method returns a newly created document fragment...

      // let's see how to actually use the document fragment after creating it!

      let container = document.querySelector(".container");

      let dFragment = document.createDocumentFragment();

      for (let i = 0; i < 10; i++) {
        let div = document.createElement("div");
        div.textContent = "Element " + (i + 1);
        dFragment.appendChild(div);
      }

      container.appendChild(dFragment);

      // Understanding of DocumentFragment
      // The DocumentFragment is a lightweight container that helps optimize DOM manipulations. Instead of directly modifying the live DOM, which can trigger multiple reflows and repaints, we can use a DocumentFragment to perform all the changes off-screen.

      // Once all modifications are done, we can push the entire fragment into the actual DOM at once, reducing unnecessary layout recalculations and improving performance.

      // Key Benefits:
      // âœ… Reduces Reflow & Repaint â€“ Since updates happen off-screen, the DOM isn't constantly recalculated.
      // âœ… Improves Performance â€“ Batching multiple operations and appending them at once is more efficient than inserting elements one by one.
      // âœ… Useful for Bulk Updates â€“ Best when inserting or modifying multiple elements dynamically.

      // When to Use DocumentFragment?
      // If elements need multiple modifications before insertion â†’ Use DocumentFragment.
      // If elements donâ€™t require changes and are directly inserted once â†’ No need for DocumentFragment (direct DOM insertion is fine).
      // This way, DocumentFragment is a powerful tool when working with large or frequent DOM updates, ensuring optimized rendering and better performance. ðŸš€
    </script>
  </body>
</html>
